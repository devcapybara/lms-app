{"ast":null,"code":"var _jsxFileName = \"D:\\\\lms-app\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../utils/AuthContext';\nimport { userAPI } from '../utils/userAPI';\nimport { toast } from 'react-hot-toast';\nimport { BookOpen, Users, BarChart3, Plus, Play, CheckCircle, Clock, Target, TrendingUp } from 'lucide-react';\nimport { courseAPI } from '../utils/api';\nimport DashboardStudent from './DashboardStudent';\nimport DashboardAdmin from './DashboardAdmin';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const {\n    user,\n    hasRole\n  } = useAuth();\n  const [stats, setStats] = useState({\n    totalCourses: 0,\n    totalStudents: 0,\n    totalLessons: 0,\n    completedLessons: 0,\n    pendingEnrollments: 0,\n    averageCompletion: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [enrollments, setEnrollments] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchDashboardStats();\n    fetchMyEnrollments();\n  }, []);\n  const fetchDashboardStats = async () => {\n    try {\n      setLoading(true);\n      const data = await userAPI.getDashboardStats();\n      setStats(data);\n    } catch (error) {\n      console.error('Error fetching dashboard stats:', error);\n      toast.error('Failed to fetch dashboard data');\n      // Fallback to mock data\n      setStats({\n        totalCourses: 5,\n        totalStudents: 24,\n        totalLessons: 18,\n        completedLessons: 12,\n        pendingEnrollments: 8,\n        averageCompletion: 85\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchMyEnrollments = async () => {\n    try {\n      setLoading(true);\n      const res = await courseAPI.getMyEnrollments();\n      setEnrollments(res.data.enrollments || []);\n    } catch (err) {\n      setEnrollments([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (hasRole && hasRole('admin')) {\n    return /*#__PURE__*/_jsxDEV(DashboardAdmin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 12\n    }, this);\n  }\n  if (hasRole && hasRole('student')) {\n    return /*#__PURE__*/_jsxDEV(DashboardStudent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 12\n    }, this);\n  }\n  if (hasRole && hasRole('teacher')) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-900 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-white text-xl\",\n        children: \"Dashboard untuk mentor coming soon.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 87\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-white text-xl\",\n      children: \"Dashboard tidak tersedia.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 85\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 10\n  }, this);\n}\n_s(Dashboard, \"dJWIi2ZKc84Xx4VO8yMw761BKl8=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useAuth","userAPI","toast","BookOpen","Users","BarChart3","Plus","Play","CheckCircle","Clock","Target","TrendingUp","courseAPI","DashboardStudent","DashboardAdmin","jsxDEV","_jsxDEV","Dashboard","_s","user","hasRole","stats","setStats","totalCourses","totalStudents","totalLessons","completedLessons","pendingEnrollments","averageCompletion","loading","setLoading","enrollments","setEnrollments","navigate","fetchDashboardStats","fetchMyEnrollments","data","getDashboardStats","error","console","res","getMyEnrollments","err","fileName","_jsxFileName","lineNumber","columnNumber","className","children","_c","$RefreshReg$"],"sources":["D:/lms-app/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../utils/AuthContext';\r\nimport { userAPI } from '../utils/userAPI';\r\nimport { toast } from 'react-hot-toast';\r\nimport { \r\n  BookOpen, \r\n  Users, \r\n  BarChart3, \r\n  Plus, \r\n  Play, \r\n  CheckCircle, \r\n  Clock,\r\n  Target,\r\n  TrendingUp\r\n} from 'lucide-react';\r\nimport { courseAPI } from '../utils/api';\r\nimport DashboardStudent from './DashboardStudent';\r\nimport DashboardAdmin from './DashboardAdmin';\r\n\r\nexport default function Dashboard() {\r\n  const { user, hasRole } = useAuth();\r\n  const [stats, setStats] = useState({\r\n    totalCourses: 0,\r\n    totalStudents: 0,\r\n    totalLessons: 0,\r\n    completedLessons: 0,\r\n    pendingEnrollments: 0,\r\n    averageCompletion: 0\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [enrollments, setEnrollments] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchDashboardStats();\r\n    fetchMyEnrollments();\r\n  }, []);\r\n\r\n  const fetchDashboardStats = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await userAPI.getDashboardStats();\r\n      setStats(data);\r\n    } catch (error) {\r\n      console.error('Error fetching dashboard stats:', error);\r\n      toast.error('Failed to fetch dashboard data');\r\n      // Fallback to mock data\r\n      setStats({\r\n        totalCourses: 5,\r\n        totalStudents: 24,\r\n        totalLessons: 18,\r\n        completedLessons: 12,\r\n        pendingEnrollments: 8,\r\n        averageCompletion: 85\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchMyEnrollments = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await courseAPI.getMyEnrollments();\r\n      setEnrollments(res.data.enrollments || []);\r\n    } catch (err) {\r\n      setEnrollments([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (hasRole && hasRole('admin')) {\r\n    return <DashboardAdmin />;\r\n  }\r\n  if (hasRole && hasRole('student')) {\r\n    return <DashboardStudent />;\r\n  }\r\n  if (hasRole && hasRole('teacher')) {\r\n    return <div className=\"min-h-screen bg-gray-900 flex items-center justify-center\"><div className=\"text-white text-xl\">Dashboard untuk mentor coming soon.</div></div>;\r\n  }\r\n  return <div className=\"min-h-screen bg-gray-900 flex items-center justify-center\"><div className=\"text-white text-xl\">Dashboard tidak tersedia.</div></div>;\r\n} "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,SAASC,OAAO,QAAQ,sBAAsB;AAC9C,SAASC,OAAO,QAAQ,kBAAkB;AAC1C,SAASC,KAAK,QAAQ,iBAAiB;AACvC,SACEC,QAAQ,EACRC,KAAK,EACLC,SAAS,EACTC,IAAI,EACJC,IAAI,EACJC,WAAW,EACXC,KAAK,EACLC,MAAM,EACNC,UAAU,QACL,cAAc;AACrB,SAASC,SAAS,QAAQ,cAAc;AACxC,OAAOC,gBAAgB,MAAM,oBAAoB;AACjD,OAAOC,cAAc,MAAM,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,eAAe,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAClC,MAAM;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAGpB,OAAO,CAAC,CAAC;EACnC,MAAM,CAACqB,KAAK,EAAEC,QAAQ,CAAC,GAAG1B,QAAQ,CAAC;IACjC2B,YAAY,EAAE,CAAC;IACfC,aAAa,EAAE,CAAC;IAChBC,YAAY,EAAE,CAAC;IACfC,gBAAgB,EAAE,CAAC;IACnBC,kBAAkB,EAAE,CAAC;IACrBC,iBAAiB,EAAE;EACrB,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGlC,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACmC,WAAW,EAAEC,cAAc,CAAC,GAAGpC,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAMqC,QAAQ,GAAGlC,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACdqC,mBAAmB,CAAC,CAAC;IACrBC,kBAAkB,CAAC,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMD,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IAAI;MACFJ,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMM,IAAI,GAAG,MAAMnC,OAAO,CAACoC,iBAAiB,CAAC,CAAC;MAC9Cf,QAAQ,CAACc,IAAI,CAAC;IAChB,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACvDpC,KAAK,CAACoC,KAAK,CAAC,gCAAgC,CAAC;MAC7C;MACAhB,QAAQ,CAAC;QACPC,YAAY,EAAE,CAAC;QACfC,aAAa,EAAE,EAAE;QACjBC,YAAY,EAAE,EAAE;QAChBC,gBAAgB,EAAE,EAAE;QACpBC,kBAAkB,EAAE,CAAC;QACrBC,iBAAiB,EAAE;MACrB,CAAC,CAAC;IACJ,CAAC,SAAS;MACRE,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMK,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI;MACFL,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMU,GAAG,GAAG,MAAM5B,SAAS,CAAC6B,gBAAgB,CAAC,CAAC;MAC9CT,cAAc,CAACQ,GAAG,CAACJ,IAAI,CAACL,WAAW,IAAI,EAAE,CAAC;IAC5C,CAAC,CAAC,OAAOW,GAAG,EAAE;MACZV,cAAc,CAAC,EAAE,CAAC;IACpB,CAAC,SAAS;MACRF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,IAAIV,OAAO,IAAIA,OAAO,CAAC,OAAO,CAAC,EAAE;IAC/B,oBAAOJ,OAAA,CAACF,cAAc;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC3B;EACA,IAAI1B,OAAO,IAAIA,OAAO,CAAC,SAAS,CAAC,EAAE;IACjC,oBAAOJ,OAAA,CAACH,gBAAgB;MAAA8B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC7B;EACA,IAAI1B,OAAO,IAAIA,OAAO,CAAC,SAAS,CAAC,EAAE;IACjC,oBAAOJ,OAAA;MAAK+B,SAAS,EAAC,2DAA2D;MAAAC,QAAA,eAAChC,OAAA;QAAK+B,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAAC;MAAmC;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACvK;EACA,oBAAO9B,OAAA;IAAK+B,SAAS,EAAC,2DAA2D;IAAAC,QAAA,eAAChC,OAAA;MAAK+B,SAAS,EAAC,oBAAoB;MAAAC,QAAA,EAAC;IAAyB;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;AAC7J;AAAC5B,EAAA,CA/DuBD,SAAS;EAAA,QACLjB,OAAO,EAWhBD,WAAW;AAAA;AAAAkD,EAAA,GAZNhC,SAAS;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}